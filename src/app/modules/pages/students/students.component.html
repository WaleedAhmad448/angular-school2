<app-page-heading *ngIf="headerOptions" [pageHeaderOptions]="headerOptions">
</app-page-heading>

<!-- <div class="p-4" *ngIf="!isAddingStudent">
  <div class="flex justify-between items-center mb-4">
    <div class="flex gap-2">
      <p-inputGroup>
        <p-inputIcon name="pi pi-search"></p-inputIcon>
        <input type="text" pInputText [(ngModel)]="Search" (input)="onSearch()" placeholder="Search" style="width: 320px">
      </p-inputGroup>
      <p-button icon="pi pi-plus" label="Add Student" styleClass="p-button-success" (click)="openCreateDialog()"></p-button>
    </div>
  
    <div class="flex gap-2">
      <p-button icon="pi pi-upload" label="Import" styleClass="p-button-help" (click)="triggerFileInput()"></p-button>
      <input id="importFileInput" type="file" #importFileInput hidden (change)="onFileChange($event)" accept=".xlsx,.xls">
      <p-button icon="pi pi-download" label="Export" styleClass="p-button-info" (click)="exportToExcel()"></p-button>
    </div>
  </div>
</div> -->

<div class="card overflow-auto my-3 p-5 border-round-2xl">
  <div class="flex flex-wrap justify-content-between align-items-center mb-2">
    <div>
      <h4>List of {{ headerOptions.title }}</h4>
      <p>This is the list of {{ headerOptions.title }} in the system</p>
    </div>

    <div class="flex flex-wrap align-items-center gap-2">
      <span class="p-input-icon-left">
        <i class="pi pi-search"></i>
        <input
          class="text-primary w-23rem"
          [(ngModel)]="Search"
          (keydown)="onSearch()"
          type="text"
          pInputText />
      </span>
      <!-- <a
        href="javascript:void(0);"
        class="text-primary cursor-pointer"
        (click)="clearSearch()"
        *ngIf="query != '' && query != null && query != undefined">
        <i class="pi pi-times"></i>
      </a> -->
      
    </div>
  </div>

  <div>
    <kitsng-fetch-table-factory [tableConfig]="tableConfig">

    </kitsng-fetch-table-factory>
  </div>
</div>
<p-toast></p-toast>

<ng-template #ImageField let-value>
  <img [src]="serverBaseUrl + value" alt="" class="w-2rem h-2rem border-round" />
</ng-template>
<!-- Data table -->
<!-- <div *ngIf="!isAddingStudent" class="p-4">
  <p-table [value]="students || []" [paginator]="true" [rows]="10" [showCurrentPageReport]="true" 
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [rowsPerPageOptions]="[10,25,50]" [tableStyle]="{'min-width': '60rem'}">
    <ng-template pTemplate="header">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Nrc No</th>
        <th>Age</th>
        <th>Gender</th>
        <th>Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-student>
      <tr>
        <td>{{ student.studentId }}</td>
        <td>{{ student.studentName }}</td>
        <td>{{ student.studentNrc }}</td>
        <td>{{ student.age }}</td>
        <td>{{ student.gender }}</td>
        <td>
          <div class="flex gap-2">
            <p-button icon="pi pi-trash" styleClass="p-button-danger p-button-sm" 
              (click)="openDeleteDialog(student.studentId)"></p-button>
            <p-button icon="pi pi-info-circle" styleClass="p-button-outlined p-button-sm" 
              [routerLink]="['../student/details', student.studentId]"></p-button>
          </div>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div> -->